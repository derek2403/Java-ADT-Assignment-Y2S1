"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/registered-events";
exports.ids = ["pages/api/registered-events"];
exports.modules = {

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./pages/api/registered-events.js":
/*!****************************************!*\
  !*** ./pages/api/registered-events.js ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n\n\nasync function handler(req, res) {\n    const { username  } = req.query;\n    if (!username) {\n        return res.status(400).json({\n            error: 'Username is required'\n        });\n    }\n    try {\n        const registrationsFilePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), '../backend/eventregistrations.txt');\n        const eventsFilePath = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), '../backend/events.txt');\n        const registrationsData = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(registrationsFilePath, 'utf8');\n        const eventsData = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(eventsFilePath, 'utf8');\n        const registrations = registrationsData.split('\\n').filter((line)=>line.trim() !== ''\n        );\n        const events = eventsData.split('\\n').filter((line)=>line.trim() !== ''\n        );\n        console.log('Registrations:', registrations);\n        console.log('Events:', events);\n        // Extract registered event IDs for the given username\n        const registeredEventIds = registrations.filter((line)=>{\n            const [, , registeredUsername] = line.split(',').map((item)=>item.trim()\n            );\n            return registeredUsername === username;\n        }).map((line)=>line.split(',')[1].trim()\n        );\n        console.log('Registered Event IDs for', username, ':', registeredEventIds);\n        // Extract event details\n        const eventDetails = events.filter((line)=>{\n            const [eventId] = line.split(',');\n            return registeredEventIds.includes(eventId.trim());\n        }).map((line)=>{\n            const [eventId, eventName, venue, time, date] = line.split(',').map((item)=>item.trim()\n            );\n            return {\n                eventId,\n                eventName,\n                venue,\n                time,\n                date\n            }; // Include eventId in the returned object\n        });\n        console.log('Event Details:', eventDetails);\n        res.status(200).json(eventDetails);\n    } catch (error) {\n        console.error('Error:', error);\n        res.status(500).json({\n            error: 'Failed to retrieve registered events'\n        });\n    }\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9wYWdlcy9hcGkvcmVnaXN0ZXJlZC1ldmVudHMuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNEI7QUFDTDtBQUVSLGVBQWVFLE9BQU8sQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEVBQUUsQ0FBQztJQUMvQyxLQUFLLENBQUMsQ0FBQyxDQUFDQyxRQUFRLEVBQUMsQ0FBQyxHQUFHRixHQUFHLENBQUNHLEtBQUs7SUFFOUIsRUFBRSxHQUFHRCxRQUFRLEVBQUUsQ0FBQztRQUNkLE1BQU0sQ0FBQ0QsR0FBRyxDQUFDRyxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUMsQ0FBQztZQUFDQyxLQUFLLEVBQUUsQ0FBc0I7UUFBQyxDQUFDO0lBQy9ELENBQUM7SUFFRCxHQUFHLENBQUMsQ0FBQztRQUNILEtBQUssQ0FBQ0MscUJBQXFCLEdBQUdULGdEQUFTLENBQUNXLE9BQU8sQ0FBQ0MsR0FBRyxJQUFJLENBQW1DO1FBQzFGLEtBQUssQ0FBQ0MsY0FBYyxHQUFHYixnREFBUyxDQUFDVyxPQUFPLENBQUNDLEdBQUcsSUFBSSxDQUF1QjtRQUV2RSxLQUFLLENBQUNFLGlCQUFpQixHQUFHLEtBQUssQ0FBQ2YsMkRBQVcsQ0FBQ1UscUJBQXFCLEVBQUUsQ0FBTTtRQUN6RSxLQUFLLENBQUNPLFVBQVUsR0FBRyxLQUFLLENBQUNqQiwyREFBVyxDQUFDYyxjQUFjLEVBQUUsQ0FBTTtRQUUzRCxLQUFLLENBQUNJLGFBQWEsR0FBR0gsaUJBQWlCLENBQUNJLEtBQUssQ0FBQyxDQUFJLEtBQUVDLE1BQU0sRUFBQ0MsSUFBSSxHQUFJQSxJQUFJLENBQUNDLElBQUksT0FBTyxDQUFFOztRQUNyRixLQUFLLENBQUNDLE1BQU0sR0FBR04sVUFBVSxDQUFDRSxLQUFLLENBQUMsQ0FBSSxLQUFFQyxNQUFNLEVBQUNDLElBQUksR0FBSUEsSUFBSSxDQUFDQyxJQUFJLE9BQU8sQ0FBRTs7UUFFdkVFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLENBQWdCLGlCQUFFUCxhQUFhO1FBQzNDTSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUFTLFVBQUVGLE1BQU07UUFFN0IsRUFBc0Q7UUFDdEQsS0FBSyxDQUFDRyxrQkFBa0IsR0FBR1IsYUFBYSxDQUNyQ0UsTUFBTSxFQUFDQyxJQUFJLEdBQUksQ0FBQztZQUNmLEtBQUssTUFBTU0sa0JBQWtCLElBQUlOLElBQUksQ0FBQ0YsS0FBSyxDQUFDLENBQUcsSUFBRVMsR0FBRyxFQUFDQyxJQUFJLEdBQUlBLElBQUksQ0FBQ1AsSUFBSTs7WUFDdEUsTUFBTSxDQUFDSyxrQkFBa0IsS0FBS3RCLFFBQVE7UUFDeEMsQ0FBQyxFQUNBdUIsR0FBRyxFQUFDUCxJQUFJLEdBQUlBLElBQUksQ0FBQ0YsS0FBSyxDQUFDLENBQUcsSUFBRSxDQUFDLEVBQUVHLElBQUk7O1FBRXRDRSxPQUFPLENBQUNDLEdBQUcsQ0FBQyxDQUEwQiwyQkFBRXBCLFFBQVEsRUFBRSxDQUFHLElBQUVxQixrQkFBa0I7UUFFekUsRUFBd0I7UUFDeEIsS0FBSyxDQUFDSSxZQUFZLEdBQUdQLE1BQU0sQ0FDeEJILE1BQU0sRUFBQ0MsSUFBSSxHQUFJLENBQUM7WUFDZixLQUFLLEVBQUVVLE9BQU8sSUFBSVYsSUFBSSxDQUFDRixLQUFLLENBQUMsQ0FBRztZQUNoQyxNQUFNLENBQUNPLGtCQUFrQixDQUFDTSxRQUFRLENBQUNELE9BQU8sQ0FBQ1QsSUFBSTtRQUNqRCxDQUFDLEVBQ0FNLEdBQUcsRUFBQ1AsSUFBSSxHQUFJLENBQUM7WUFDWixLQUFLLEVBQUVVLE9BQU8sRUFBRUUsU0FBUyxFQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRUMsSUFBSSxJQUFJZixJQUFJLENBQUNGLEtBQUssQ0FBQyxDQUFHLElBQUVTLEdBQUcsRUFBQ0MsSUFBSSxHQUFJQSxJQUFJLENBQUNQLElBQUk7O1lBQ3JGLE1BQU0sQ0FBQyxDQUFDO2dCQUFDUyxPQUFPO2dCQUFFRSxTQUFTO2dCQUFFQyxLQUFLO2dCQUFFQyxJQUFJO2dCQUFFQyxJQUFJO1lBQUMsQ0FBQyxDQUFFLENBQXlDO1FBQzdGLENBQUM7UUFFSFosT0FBTyxDQUFDQyxHQUFHLENBQUMsQ0FBZ0IsaUJBQUVLLFlBQVk7UUFFMUMxQixHQUFHLENBQUNHLE1BQU0sQ0FBQyxHQUFHLEVBQUVDLElBQUksQ0FBQ3NCLFlBQVk7SUFDbkMsQ0FBQyxDQUFDLEtBQUssRUFBRXJCLEtBQUssRUFBRSxDQUFDO1FBQ2ZlLE9BQU8sQ0FBQ2YsS0FBSyxDQUFDLENBQVEsU0FBRUEsS0FBSztRQUM3QkwsR0FBRyxDQUFDRyxNQUFNLENBQUMsR0FBRyxFQUFFQyxJQUFJLENBQUMsQ0FBQztZQUFDQyxLQUFLLEVBQUUsQ0FBc0M7UUFBQyxDQUFDO0lBQ3hFLENBQUM7QUFDSCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG9uYXRpb24tbWFuYWdlbWVudC1mcm9udGVuZC8uL3BhZ2VzL2FwaS9yZWdpc3RlcmVkLWV2ZW50cy5qcz9kZjY0Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcy9wcm9taXNlcyc7XHJcbmltcG9ydCBwYXRoIGZyb20gJ3BhdGgnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gIGNvbnN0IHsgdXNlcm5hbWUgfSA9IHJlcS5xdWVyeTtcclxuXHJcbiAgaWYgKCF1c2VybmFtZSkge1xyXG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdVc2VybmFtZSBpcyByZXF1aXJlZCcgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVnaXN0cmF0aW9uc0ZpbGVQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICcuLi9iYWNrZW5kL2V2ZW50cmVnaXN0cmF0aW9ucy50eHQnKTtcclxuICAgIGNvbnN0IGV2ZW50c0ZpbGVQYXRoID0gcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICcuLi9iYWNrZW5kL2V2ZW50cy50eHQnKTtcclxuICAgIFxyXG4gICAgY29uc3QgcmVnaXN0cmF0aW9uc0RhdGEgPSBhd2FpdCBmcy5yZWFkRmlsZShyZWdpc3RyYXRpb25zRmlsZVBhdGgsICd1dGY4Jyk7XHJcbiAgICBjb25zdCBldmVudHNEYXRhID0gYXdhaXQgZnMucmVhZEZpbGUoZXZlbnRzRmlsZVBhdGgsICd1dGY4Jyk7XHJcbiAgICBcclxuICAgIGNvbnN0IHJlZ2lzdHJhdGlvbnMgPSByZWdpc3RyYXRpb25zRGF0YS5zcGxpdCgnXFxuJykuZmlsdGVyKGxpbmUgPT4gbGluZS50cmltKCkgIT09ICcnKTtcclxuICAgIGNvbnN0IGV2ZW50cyA9IGV2ZW50c0RhdGEuc3BsaXQoJ1xcbicpLmZpbHRlcihsaW5lID0+IGxpbmUudHJpbSgpICE9PSAnJyk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdSZWdpc3RyYXRpb25zOicsIHJlZ2lzdHJhdGlvbnMpO1xyXG4gICAgY29uc29sZS5sb2coJ0V2ZW50czonLCBldmVudHMpO1xyXG4gICAgXHJcbiAgICAvLyBFeHRyYWN0IHJlZ2lzdGVyZWQgZXZlbnQgSURzIGZvciB0aGUgZ2l2ZW4gdXNlcm5hbWVcclxuICAgIGNvbnN0IHJlZ2lzdGVyZWRFdmVudElkcyA9IHJlZ2lzdHJhdGlvbnNcclxuICAgICAgLmZpbHRlcihsaW5lID0+IHtcclxuICAgICAgICBjb25zdCBbLCAsIHJlZ2lzdGVyZWRVc2VybmFtZV0gPSBsaW5lLnNwbGl0KCcsJykubWFwKGl0ZW0gPT4gaXRlbS50cmltKCkpO1xyXG4gICAgICAgIHJldHVybiByZWdpc3RlcmVkVXNlcm5hbWUgPT09IHVzZXJuYW1lO1xyXG4gICAgICB9KVxyXG4gICAgICAubWFwKGxpbmUgPT4gbGluZS5zcGxpdCgnLCcpWzFdLnRyaW0oKSk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdSZWdpc3RlcmVkIEV2ZW50IElEcyBmb3InLCB1c2VybmFtZSwgJzonLCByZWdpc3RlcmVkRXZlbnRJZHMpO1xyXG4gICAgXHJcbiAgICAvLyBFeHRyYWN0IGV2ZW50IGRldGFpbHNcclxuICAgIGNvbnN0IGV2ZW50RGV0YWlscyA9IGV2ZW50c1xyXG4gICAgICAuZmlsdGVyKGxpbmUgPT4ge1xyXG4gICAgICAgIGNvbnN0IFtldmVudElkXSA9IGxpbmUuc3BsaXQoJywnKTtcclxuICAgICAgICByZXR1cm4gcmVnaXN0ZXJlZEV2ZW50SWRzLmluY2x1ZGVzKGV2ZW50SWQudHJpbSgpKTtcclxuICAgICAgfSlcclxuICAgICAgLm1hcChsaW5lID0+IHtcclxuICAgICAgICBjb25zdCBbZXZlbnRJZCwgZXZlbnROYW1lLCB2ZW51ZSwgdGltZSwgZGF0ZV0gPSBsaW5lLnNwbGl0KCcsJykubWFwKGl0ZW0gPT4gaXRlbS50cmltKCkpO1xyXG4gICAgICAgIHJldHVybiB7IGV2ZW50SWQsIGV2ZW50TmFtZSwgdmVudWUsIHRpbWUsIGRhdGUgfTsgLy8gSW5jbHVkZSBldmVudElkIGluIHRoZSByZXR1cm5lZCBvYmplY3RcclxuICAgICAgfSk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKCdFdmVudCBEZXRhaWxzOicsIGV2ZW50RGV0YWlscyk7XHJcbiAgICBcclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKGV2ZW50RGV0YWlscyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGVycm9yKTtcclxuICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgZXJyb3I6ICdGYWlsZWQgdG8gcmV0cmlldmUgcmVnaXN0ZXJlZCBldmVudHMnIH0pO1xyXG4gIH1cclxufSJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwidXNlcm5hbWUiLCJxdWVyeSIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsInJlZ2lzdHJhdGlvbnNGaWxlUGF0aCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiZXZlbnRzRmlsZVBhdGgiLCJyZWdpc3RyYXRpb25zRGF0YSIsInJlYWRGaWxlIiwiZXZlbnRzRGF0YSIsInJlZ2lzdHJhdGlvbnMiLCJzcGxpdCIsImZpbHRlciIsImxpbmUiLCJ0cmltIiwiZXZlbnRzIiwiY29uc29sZSIsImxvZyIsInJlZ2lzdGVyZWRFdmVudElkcyIsInJlZ2lzdGVyZWRVc2VybmFtZSIsIm1hcCIsIml0ZW0iLCJldmVudERldGFpbHMiLCJldmVudElkIiwiaW5jbHVkZXMiLCJldmVudE5hbWUiLCJ2ZW51ZSIsInRpbWUiLCJkYXRlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./pages/api/registered-events.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/registered-events.js"));
module.exports = __webpack_exports__;

})();